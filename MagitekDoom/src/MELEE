Actor Kicking : Inventory
{
inventory.maxamount 1
}

Actor Punching : Inventory
{
inventory.maxamount 1
}

Actor Berserker : Inventory
{
inventory.maxamount 1
}

Actor NoFatality : Inventory
{
inventory.maxamount 1
}

Actor HasFlameBarrel : Inventory
{
inventory.maxamount 1
}

Actor HasIceBarrel : Inventory
{
inventory.maxamount 1
}

Actor HasShockBarrel : Inventory
{
inventory.maxamount 1
}

Actor HasEarthBarrel : Inventory
{
inventory.maxamount 1
}

Actor HasDarkBarrel : Inventory
{
inventory.maxamount 1
}

Actor SentryShots : Inventory
{
inventory.maxamount 4
}


Actor PSeq1 : Inventory
{
inventory.maxamount 2
}

Actor PSeq2 : Inventory
{
inventory.maxamount 1
}


Actor PSeq3 : Inventory
{
inventory.maxamount 1
}

Actor HitReaction : Inventory
{
inventory.maxamount 1
}

Actor PowerMeleeRun : PowerSpeed
{
powerup.duration 500
speed 1.5
}

Actor MeleeRunPower : PowerupGiver 15051
{
  Inventory.Pickupmessage "You can move faster!"
  Inventory.Icon "MEGAA0"
  Inventory.MaxAmount 0
  Inventory.UseSound "pickups/slowmo"
  Powerup.Type "PowerMeleeRun"
  Powerup.Duration 20
  +AUTOACTIVATE
  +INVENTORY.FANCYPICKUPSOUND
  States
  {
  Spawn:
    MEGA ABCD 4 bright
    Loop
  }
}

ACTOR PowerMeleeDefense : PowerProtection
{
  DamageFactor "Normal", 0.5
  Inventory.Icon "MEGAA0"
}

ACTOR MeleeDefensePower : PowerupGiver
{
  Inventory.MaxAmount 0
  Powerup.Type "PowerMeleeDefense"
  Powerup.Duration 20
  Translation "128:143=96:103"
  +INVENTORY.AUTOACTIVATE
  States
  {
  Spawn:
    MEGA ABCD 4 Bright
    Loop
  }
}


// --------------------------------------------------------------------------
//
// Melee Weapons
//
// --------------------------------------------------------------------------


ACTOR Melee_Attacks : MagicBaseSystem Replaces Fist
{
	Game Doom
	Weapon.SelectionOrder 3700
	Weapon.Kickback 100
	Obituary "%o was Ripped and Teared by 	%k"
	+WEAPON.WIMPY_WEAPON
	+WEAPON.MELEEWEAPON
    +WEAPON.NOALERT
    +WEAPON.NOAUTOAIM
	+WEAPON.NOAUTOFIRE
	Weapon.AmmoType1 "MagicAmmo"
	States
	{
	Steady:
	TNT1 A 1
	TNT1 A 0 ACS_Execute(477, 0, 0, 0, 0)
	Goto Ready
	MagicEnd:
		TNT1 A 0
		goto ready+9
	Reload:
		TNT1 A 0 A_TakeInventory("Kicking", 1)
		TNT1 A 0 A_FireCustomMissile("MagicGlowMelee")
		TNT1 A 0 A_SetBlend("100 255 100",0.4,8)
		TNT1 A 0 a_setinvulnerable
	    PUNS BCD 1
		PUNS E 2 A_PlaySound("Knuckled")
		PUNS E 2
		TNT1 A 0 A_TakeInventory("Reloading", 1)
		TNT1 A 0 A_TakeInventory("SwordType", 1)
		TNT1 A 0 A_GiveInventory("SpecialShot",1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		PUNS E 2 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		PUNS E 2 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		PUNS F 2 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		PUNS F 2 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		TNT1 A 0 a_unsetinvulnerable
		PUNS F 2 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		PUNS F 2 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		PUNS E 2 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		PUNS E 2 A_WeaponReady(1)
		TNT1 A 0 A_TakeInventory("Reloading", 1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		PUNS E 2 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		PUNS DCB 1 A_WeaponReady(1)
		TNT1 A 0 A_TakeInventory("SpecialShot",9)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		TNT1 A 0 A_Giveinventory("MeleeRunPower",1)
		Goto Ready+8
	Rekka:
		TNT1 A 0 A_FireCustomMissile("MagicGlowMelee")
		TNT1 A 0 A_SetBlend("100 255 100",0.4,8)
		TNT1 A 0 A_TakeInventory("Reloading", 1)
		TNT1 A 0 a_setinvulnerable
	    PUNS BCD 1
		PUNS E 2 A_PlaySound("Knuckled")
		PUNS F 2 
		TNT1 A 0 A_TakeInventory("SwordType", 1)
		TNT1 A 0 A_GiveInventory("SpecialShot",1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		PUNS E 1 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		PUNS E 1 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		PUNS E 1 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		PUNS DCB 2 A_WeaponReady(1)
		TNT1 A 0 A_TakeInventory("SpecialShot",9)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"LightningKick")
		TNT1 A 0 A_Giveinventory("MeleeRunPower",1)
		TNT1 A 0 a_unsetinvulnerable
		Goto Ready+8
	
	Ready:
        PUNS ABCDCBA 1
        TNT1 AAA 0
        TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_JumpIfInventory("Salute1", 1, "MagicAction")
		TNT1 A 0 A_JumpIfInventory("Salute2", 1, "MagicSwap")
		TNT1 A 0 A_JumpIfInventory("LostSoulFatality",1,"ReadySoul")
		TNT1 A 0 A_JumpIfInventory("HasBarrel",1,"ReadyBarrel")
		TNT1 A 0 A_JumpIfInventory("HasFlameBarrel",1,"ReadyFlameBarrel")
		TNT1 A 0 A_JumpIfInventory("HasIceBarrel",1,"ReadyIceBarrel")
		TNT1 A 0 A_JumpIfInventory("HasShockBarrel",1,"ReadyShockBarrel")
		TNT1 A 0 A_JumpIfInventory("HasEarthBarrel",1,"ReadyEarthBarrel")
		TNT1 A 0 A_JumpIfInventory("HasDarkBarrel",1,"ReadyDarkBarrel")
		TNT1 A 0 A_JumpIfInventory("SentryShots",1,"ReadySentry")
		TNT1 A 0 A_JumpIfInventory("MagicTSwap", 1, "MagicSwap2")
		TNT1 A 0 A_JumpIfInventory("Taunting",1,"Taunt")
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Reload")
        PUNG A 1 A_WeaponReady
		TNT1 A 0 A_TakeInventory("PSeq1", 2)
		TNT1 A 0 A_TakeInventory("PSeq2", 2)
		TNT1 A 0 A_Giveinventory("MeleeRunPower",1)
		TNT1 A 0 A_Takeinventory("SpecialShot",9)
		Goto Ready+8
	ReadySoul:
        TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"KillLS")
		TNT1 A 0 A_Giveinventory("MeleeRunPower",1)
        THEA A 7 BRIGHT A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_JumpIfInventory("Salute1", 1, "MagicAction")
		TNT1 A 0 A_JumpIfInventory("Salute2", 1, "MagicSwap")
        TNT1 A 0 A_FireCustomMissile("LostSoulOnHandFireSpawner",40,0,0,5)
        THEA B 7 BRIGHT A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_JumpIfInventory("Salute1", 1, "MagicAction")
		TNT1 A 0 A_JumpIfInventory("Salute2", 1, "MagicSwap")
        TNT1 A 0 A_FireCustomMissile("LostSoulOnHandFireSpawner",40,0,0,5)
        THEA A 7 BRIGHT A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_JumpIfInventory("Salute1", 1, "MagicAction")
		TNT1 A 0 A_JumpIfInventory("Salute2", 1, "MagicSwap")
        TNT1 A 0 A_FireCustomMissile("LostSoulOnHandFireSpawner",40,0,0,5)
        THEA B 7 BRIGHT A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_JumpIfInventory("Salute1", 1, "MagicAction")
		TNT1 A 0 A_JumpIfInventory("Salute2", 1, "MagicSwap")
        TNT1 A 0 A_FireCustomMissile("LostSoulOnHandFireSpawner",40,0,0,5)
        THEA C 7 BRIGHT A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_JumpIfInventory("Salute1", 1, "MagicAction")
		TNT1 A 0 A_JumpIfInventory("Salute2", 1, "MagicSwap")
        TNT1 A 0 A_FireCustomMissile("LostSoulOnHandFireSpawner",40,0,0,5)
        THEA D 7 BRIGHT A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_JumpIfInventory("Salute1", 1, "MagicAction")
		TNT1 A 0 A_JumpIfInventory("Salute2", 1, "MagicSwap")
        TNT1 A 0 A_FireCustomMissile("LostSoulOnHandFireSpawner",40,0,0,5)
        THEA C 7 BRIGHT A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_JumpIfInventory("Salute1", 1, "MagicAction")
		TNT1 A 0 A_JumpIfInventory("Salute2", 1, "MagicSwap")
        TNT1 A 0 A_FireCustomMissile("LostSoulOnHandFireSpawner",40,0,0,5)
        THEA D 7 BRIGHT A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_JumpIfInventory("Salute1", 1, "MagicAction")
		TNT1 A 0 A_JumpIfInventory("Salute2", 1, "MagicSwap")
        TNT1 A 0 A_FireCustomMissile("LostSoulOnHandFireSpawner",40,0,0,5)
		Goto Ready+8
		
	ReadyBarrel:
        TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
        THRG A 2 A_WeaponReady
		TNT1 A 0 A_Giveinventory("MeleeRunPower",1)
		Goto Ready+8
		
	ReadyFlameBarrel:
        TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_CustomMissile ("ImBallGettingReady2", 35, 20, random (0, 140), 2, random (0, 160))
		TNT1 A 0 bright A_CustomMissile ("RealFlameTrailsSmallLong", 38, 20, random (40, 180), 2, random (50, 130))
        THRG A 2 A_WeaponReady
		TNT1 A 0 A_Giveinventory("MeleeRunPower",1)
		Goto Ready+8
		
	ReadyIceBarrel:
        TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_CustomMissile ("IceCloud", 35, 20, random (0, 140), 2, random (0, 160))
        THRG A 2 A_WeaponReady
		TNT1 A 0 A_Giveinventory("MeleeRunPower",1)
		Goto Ready+8
		
	ReadyShockBarrel:
        TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_CustomMissile ("ShockBurst", 35, 20, random (0, 140), 2, random (0, 160))
        THRG A 2 A_WeaponReady
		TNT1 A 0 A_Giveinventory("MeleeRunPower",1)
		Goto Ready+8
		
	ReadyEarthBarrel:
        TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
        THRG A 2 A_WeaponReady
		TNT1 A 0 A_Giveinventory("MeleeRunPower",1)
		Goto Ready+8
		
	ReadyDarkBarrel:
        TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
        THRG A 2 A_WeaponReady
		TNT1 A 0 A_Giveinventory("MeleeRunPower",1)
		Goto Ready+8
		
	ReadySentry:
        TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
        MLSN A 2 A_WeaponReady
		TNT1 A 0 A_Giveinventory("MeleeRunPower",1)
		Goto Ready+8
		
		
    Deselect:
	TNT1 A 0 A_Takeinventory("FistsSelected",1)
	TNT1 A 0 A_JumpIfInventory("HasBarrel",1,"FireBarrel")
	TNT1 A 0 A_JumpIfInventory("HasFlameBarrel",1,"FireFlameBarrel")
	TNT1 A 0 A_JumpIfInventory("HasIceBarrel",1,"FireIceBarrel")
	TNT1 A 0 A_JumpIfInventory("HasShockBarrel",1,"FireShockBarrel")
	TNT1 A 0 A_JumpIfInventory("HasEarthBarrel",1,"FireEarthBarrel")
	TNT1 A 0 A_JumpIfInventory("HasDarkBarrel",1,"FireDarkBarrel")
		FAST A 0 A_Lower
		Wait

    KillLS:
        THEA E 8
        TNT1 A 0 A_FireCustomMissile("LSOHK",40,0,0,5)
        TNT1 A 0 A_Takeinventory("LostSoulFatality",1)
        THEA F 8
		THEA F 1 A_Lower
		Wait
	Select:
	TNT1 A 0 A_Giveinventory("FistsSelected",1)
	TNT1 A 0 A_Takeinventory("SawSelected",1)
	TNT1 A 0 A_Takeinventory("ShotgunSelected",1)
	TNT1 A 0 A_Takeinventory("SSGSelected",1)
	TNT1 A 0 A_Takeinventory("MinigunSelected",1)
	TNT1 A 0 A_Takeinventory("PlasmaGunSelected",1)
	TNT1 A 0 A_Takeinventory("RocketLauncherSelected",1)
    TNT1 A 0 A_Takeinventory("GrenadeLauncherSelected",1)
	TNT1 A 0 A_Takeinventory("BFGSelected",1)
	TNT1 A 0 A_Takeinventory("BFG10kSelected",1)
	TNT1 A 0 A_Takeinventory("RailGunSelected",1)
	TNT1 A 0 A_Takeinventory("SubMachineGunSelected",1)
	TNT1 A 0 A_Takeinventory("RevenantLauncherSelected",1)
	TNT1 A 0 A_Takeinventory("LostSoulSelected",1)
	TNT1 A 0 A_Takeinventory("FlameCannonSelected",1)
	TNT1 A 0 A_Takeinventory("HasBarrel",1)
	TNT1 A 0 A_Takeinventory("HasFlameBarrel",1)
	TNT1 A 0 A_Takeinventory("HasIceBarrel",1)
	TNT1 A 0 A_Takeinventory("HasShockBarrel",1)
	TNT1 A 0 A_Takeinventory("HasEarthBarrel",1)
	TNT1 A 0 A_Takeinventory("HasDarkBarrel",1)
	
        ////////////////// Check if player is performing a fatality\\\\
		TNT1 A 0
		TNT1 A 0 A_jumpifinventory("LostSoulFatality",1,"ReadySoul")
        ////////////////////
		FAST A 0 A_Raise
		Wait
	Fire:
        TNT1 A 0
		TNT1 A 0 A_jumpifinventory("LostSoulFatality",1,"LSFire")
		TNT1 A 0 A_JumpIfInventory("HasBarrel",1,"FireBarrel")
		TNT1 A 0 A_JumpIfInventory("HasFlameBarrel",1,"FireFlameBarrel")
		TNT1 A 0 A_JumpIfInventory("HasIceBarrel",1,"FireIceBarrel")
		TNT1 A 0 A_JumpIfInventory("HasShockBarrel",1,"FireShockBarrel")
		TNT1 A 0 A_JumpIfInventory("HasEarthBarrel",1,"FireEarthBarrel")
		TNT1 A 0 A_JumpIfInventory("HasDarkBarrel",1,"FireDarkBarrel")
		TNT1 A 0 A_JumpIfInventory("SentryShots",1,"FireSentryGun")
		TNT1 A 0 A_JumpIfInventory("SpecialShot",1,"BlastPunch")
		TNT1 A 0 A_jumpifinventory("PowerStrength",1,"PowerAttack")
		TNT1 A 0 A_JumpIfInventory("PSeq2",1,"Hook")
		PUNG BC 2
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		NULL A 0 A_JumpIfHealthLower(35, "FireCritical")
	FireNormal:
		PUNG A 0 
		TNT1 A 0 A_jumpifinventory("MagicCooldown",1,3)
		TNT1 A 0 A_FireCustomMissile("MeleeStrike1", 0, 0, 0, 5)
		TNT1 A 0 A_Jump (256, 3)
		TNT1 A 0
		TNT1 A 0 A_FireCustomMissile("TimeMeleeStrike1", 0, 0, 0, 5)
		TNT1 AAA 0
	FireFinish:
		TNT1 A 0 A_JumpIfInventory("IsHasted",1,"FireHaste")
		PUNG A 0 
		TNT1 A 0 A_GiveInventory("PSeq1", 1)
		PUNG E 1
		TNT1 A 0 A_TakeInventory("Kicking", 1)
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		PUNG FGHI 1 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		PUNG A 4 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		TNT1 A 0 A_TakeInventory("PSeq1", 2)
		TNT1 A 0 A_JumpIfInventory("LostSoulFatality",1,"ReadySoul")
        PUNG A 1 A_WeaponReady(1)
		TNT1 A 0 A_Refire
		Goto Ready+8
	FireHaste:
		PUNG A 0 
		PUNG E 1
		TNT1 A 0 A_TakeInventory("Kicking", 1)
		PUNG FG 1
		TNT1 A 0 A_JumpIfInventory("LostSoulFatality",1,"ReadySoul")
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"KickRight")
		PUNG HI 1 A_Refire
        PUNG A 1 A_Refire
		Goto Ready+8
	FireCritical:
		PUNG A 0 
		TNT1 A 0 A_jumpifinventory("MagicCooldown",1,3)
		TNT1 A 0 A_FireCustomMissile("MeleeStrikeHeal", 0, 0, 0, 5)
		TNT1 A 0 A_Jump (256, 3)
		TNT1 A 0
		TNT1 A 0 A_FireCustomMissile("TimeMeleeStrikeHeal", 0, 0, 0, 5)
		TNT1 AAA 0
		Goto FireFinish
	FireCritical2:
		PUNG A 0 
		TNT1 A 0 A_jumpifinventory("MagicCooldown",1,3)
		TNT1 A 0 A_FireCustomMissile("MeleeStrikeSmashHeal", 0, 0, 0, 5)
		TNT1 A 0 A_Jump (256, 3)
		TNT1 A 0
		TNT1 A 0 A_FireCustomMissile("TimeMeleeStrikeSmashHeal", 0, 0, 0, 5)
		TNT1 AAA 0
		Goto FireFinish
		
	ZoomCancel:
		PUP2 A 4
		TNT1 A 0 A_Takeinventory("Reloading",1)
		Goto Ready+10
	
	AltFire:
	    TNT1 A 0 A_TakeInventory("ChargeShot", 999)
		TNT1 A 0 A_JumpIfInventory("HasBarrel",1,"AltFireBarrel")
		TNT1 A 0 A_JumpIfInventory("HasFlameBarrel",1,"AltFireFlameBarrel")
		TNT1 A 0 A_JumpIfInventory("HasIceBarrel",1,"AltFireIceBarrel")
		TNT1 A 0 A_JumpIfInventory("HasShockBarrel",1,"AltFireShockBarrel")
		TNT1 A 0 A_JumpIfInventory("HasEarthBarrel",1,"AltFireEarthBarrel")
		TNT1 A 0 A_JumpIfInventory("HasDarkBarrel",1,"AltFireDarkBarrel")
		TNT1 A 0 A_JumpIfInventory("SentryShots",1,"AltFireSentryGun")
		TNT1 A 0 A_JumpIfInventory("SpecialShot",1,"RisingUppercut")
		TNT1 A 0 A_JumpIfInventory("PSeq1",1,"AltCombo")
		PUP2 CB 2
	
	AltHold:
	    PUP2 A 2
		TNT1 A 0 A_Giveinventory("MeleeRunPower",1)
		TNT1 A 0 A_ReFire
		PUP2 BC 1
	AltCombo:
		TNT1 A 0 A_Recoil(-10)
	    TNT1 A 0 A_JumpIfInventory("PSeq1",1,3)
		TNT1 A 0 A_Jump(255, 7)
		TNT1 AAAA 0
		TNT1 A 0 A_GiveInventory("PSeq2", 1)
		TNT1 AAAA 0
		
		
		TNT1 A 0 A_jumpifinventory("PowerStrength",1,"AltPowerAttack")
		PUN2 AC 1
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		
	AltNormal:
		NULL A 0 A_JumpIfHealthLower(35, "AltHeal")
		TNT1 A 0 A_jumpifinventory("MagicCooldown",1,3)
		TNT1 A 0 A_FireCustomMissile("MeleeStrike2", 0, 0, 0, 5)
		TNT1 A 0 A_Jump (256, 3)
		TNT1 A 0
		TNT1 A 0 A_FireCustomMissile("TimeMeleeStrike2", 0, 0, 0, 5)
		TNT1 A 0
		Goto AltFinish
		
	AltHeal:
		TNT1 A 0 A_jumpifinventory("MagicCooldown",1,3)
		TNT1 A 0 A_FireCustomMissile("MeleeStrike2Heal", 0, 0, 0, 5)
		TNT1 A 0 A_Jump (256, 3)
		TNT1 A 0
		TNT1 A 0 A_FireCustomMissile("TimeMeleeStrike2Heal", 0, 0, 0, 5)
		TNT1 A 0
		Goto AltFinish
		
	AltFinish:
		PUN2 D 4
		TNT1 A 0 A_TakeInventory("Kicking", 1)
		PUN2 EF 2
		
		PUN2 GH 2 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"KickLeft")
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		PUNG A 4 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
		TNT1 A 0 A_TakeInventory("PSeq1", 2)
		TNT1 A 0 A_TakeInventory("PSeq2", 1)
		TNT1 A 0 A_JumpIfInventory("LostSoulFatality",1,"ReadySoul")
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
        PUNG A 2 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
		Goto Ready+8
	
	Hook:
		TNT1 A 0 A_TakeInventory("PSeq2", 1)
		TNT1 A 0 A_TakeInventory("PSeq1", 2)
		TNT1 A 0 A_Recoil(-20)
		PUN3 ABCDE 1
        TNT1 A 0 A_PlaySound("weapons/gswing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		PUN3 F 1
		RIFF AA 0 A_FireCustomMissile("HookAttack", 0, 0, 0, 5)
		RIFF A 0 A_FireCustomMissile("HookAttack", 0, 0, 25, 5)
		RIFF A 0 A_FireCustomMissile("HookAttack", 0, 0, -25, 5)
		PUN3 GH 2
		KICK A 0 A_Takeinventory("Kicking",1)
		PUN3 IJKLL 4
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Reload")
        TNT1 A 2
		Goto Ready+8
		
	BlastPunch:
		TNT1 A 0 a_unsetinvulnerable
		TNT1 A 0 A_AlertMonsters (1000)
		TNT1 A 0 A_TakeInventory("SpecialShot", 9)
		TNT1 A 0 A_JumpIfInventory("MagicAmmo",3,2)
		Goto Fire
		TNT1 AAA 0
		PUNG BBBBCC 2 
        TNT1 A 0 A_PlaySound("skeleton/swing")
	BlastRegular:
		TNT1 A 0 A_jumpifinventory("PowerStrength",1,"BlastPower")
		TNT1 A 0 A_TakeInventory("MagicAmmo", 3)
		PUNG E 12 A_FireCustomMissile("BlastStun")
		PUNG FGH 4
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		PUNG IA 4
		TNT1 A 0 A_Refire
		Goto Ready+8
	BlastPower:
		TNT1 A 0 A_TakeInventory("MagicAmmo", 5)
		PUNG E 12 A_FireCustomMissile("BlastStunPower")
		PUNG FGH 4
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		PUNG IA 4
		TNT1 A 0 A_Refire
		Goto Ready+8
		
	RisingUppercut:
		TNT1 A 0 a_unsetinvulnerable
		TNT1 A 0 A_AlertMonsters (1000)
		TNT1 A 0 A_TakeInventory("SpecialShot", 9)
		TNT1 A 0 A_JumpIfInventory("MagicAmmo",3,2)
		Goto AltFire
		TNT1 AAA 0
		TNT1 A 0 A_jumpifinventory("PowerStrength",1,"PowerUppercut")
		TNT1 A 0 a_setinvulnerable
		TNT1 A 0 A_TakeInventory("MagicAmmo", 3)
	    PUP2 A 2
		PUP2 BC 2
		PUN2 AC 2
        TNT1 A 0 A_PlaySound("skeleton/swing")
		PUN2 D 1 A_FireCustomMissile("UppercutHit")
		TNT1 A 0 A_SetAngle(10 + angle)
		TNT1 A 0 ThrustThingZ(0,45,0,1)
		PUN2 D 1 A_FireCustomMissile("UppercutHit")
		TNT1 A 0 A_SetAngle(10 + angle)
		PUN2 D 1 A_FireCustomMissile("UppercutHit")
		TNT1 A 0 A_SetAngle(10 + angle)
		PUN2 D 1 A_FireCustomMissile("UppercutHit")
		TNT1 A 0 A_SetAngle(10 + angle)
		PUN2 D 1 A_FireCustomMissile("UppercutHit")
		TNT1 A 0 A_SetAngle(10 + angle)
		PUN2 D 1 A_FireCustomMissile("UppercutHit")
		TNT1 A 0 A_SetAngle(10 + angle)
		PUN2 D 1 A_FireCustomMissile("UppercutHit")
		TNT1 A 0 A_SetAngle(10 + angle)
		PUN2 D 1 A_FireCustomMissile("UppercutHit")
		TNT1 A 0 A_SetAngle(10 + angle)
		PUN2 D 1 A_FireCustomMissile("UppercutHit")
		TNT1 A 0 A_SetAngle(10 + angle)
		PUN2 D 1 A_FireCustomMissile("UppercutHit")
		TNT1 A 0 A_SetAngle(20 + angle)
		TNT1 A 0 A_FireCustomMissile("BlastExplosion", 0, 0, 0, 100)
		PUN2 E 1 A_SetAngle(20 + angle)
		PUN2 E 1 A_SetAngle(30 + angle)
		PUN2 E 1 A_SetAngle(30 + angle)
		PUN2 E 1 A_SetAngle(30 + angle)
		PUN2 F 1 A_SetAngle(30 + angle)
		PUN2 F 1 A_SetAngle(30 + angle)
		PUN2 F 1 A_SetAngle(40 + angle)
		PUN2 F 1 A_SetAngle(40 + angle)
		PUN2 G 8
		TNT1 A 0 a_unsetinvulnerable
		PUN2 H 8
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		PUNG A 8 
		Goto Ready+8
	PowerUppercut:
		TNT1 A 0 a_setinvulnerable
		TNT1 A 0 A_TakeInventory("MagicAmmo", 5)
	    PUP2 A 2
		PUP2 BC 2
		PUN2 AC 2
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_SpawnItem ("MeleeDashTrail")
		PUN2 D 1 A_FireCustomMissile("UppercutHitPower")
		TNT1 A 0 A_SetAngle(10 + angle)
		TNT1 A 0 ThrustThingZ(0,45,0,1)
		PUN2 D 1 A_FireCustomMissile("UppercutHitPower")
		TNT1 A 0 A_SetAngle(10 + angle)
		TNT1 A 0 A_SpawnItem ("MeleeDashTrail")
		PUN2 D 1 A_FireCustomMissile("UppercutHitPower")
		TNT1 A 0 A_SetAngle(10 + angle)
		PUN2 D 1 A_FireCustomMissile("UppercutHitPower")
		TNT1 A 0 A_SetAngle(10 + angle)
		TNT1 A 0 A_SpawnItem ("MeleeDashTrail")
		PUN2 D 1 A_FireCustomMissile("UppercutHitPower")
		TNT1 A 0 A_SetAngle(10 + angle)
		PUN2 D 1 A_FireCustomMissile("UppercutHitPower")
		TNT1 A 0 A_SetAngle(10 + angle)
		TNT1 A 0 A_SpawnItem ("MeleeDashTrail")
		PUN2 D 1 A_FireCustomMissile("UppercutHitPower")
		TNT1 A 0 A_SetAngle(10 + angle)
		PUN2 D 1 A_FireCustomMissile("UppercutHitPower")
		TNT1 A 0 A_SetAngle(10 + angle)
		PUN2 D 1 A_FireCustomMissile("UppercutHitPower")
		TNT1 A 0 A_SetAngle(10 + angle)
		PUN2 D 1 A_FireCustomMissile("UppercutHitPower")
		TNT1 A 0 A_SetAngle(20 + angle)
		TNT1 A 0 A_FireCustomMissile("BlastExplosionPower", 100)
		PUN2 D 1
		PUN2 E 1 A_SetAngle(20 + angle)
		PUN2 E 1 A_SetAngle(30 + angle)
		PUN2 E 1 A_SetAngle(30 + angle)
		PUN2 E 1 A_SetAngle(30 + angle)
		PUN2 F 1 A_SetAngle(30 + angle)
		PUN2 F 1 A_SetAngle(30 + angle)
		PUN2 F 1 A_SetAngle(40 + angle)
		PUN2 F 1 A_SetAngle(40 + angle)
		PUN2 G 8
		TNT1 A 0 a_unsetinvulnerable
		PUN2 H 8
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		PUNG A 8 
		Goto Ready+8
		
	LightningKick:
		TNT1 A 0 a_unsetinvulnerable
		TNT1 A 0 A_AlertMonsters (1000)
		TNT1 A 0 A_TakeInventory("SpecialShot", 9)
	    TNT1 A 0 A_JumpIfInventory("MagicAmmo",3,2)
		Goto AirKick
		TNT1 AAA 0
		TNT1 A 0 A_jumpifinventory("PowerStrength",1,"PowerLightningKick")
		TNT1 A 0 A_TakeInventory("MagicAmmo", 3)
		TNT1 A 0 A_TakeInventory("SpecialShot", 9)
		TNT1 A 0 A_TakeInventory("TimerTick", 9999)
		TNT1 A 0 A_GiveInventory("TimerTick", 10)
		KICK JKLMN 1
		TNT1 A 0 A_PlaySound("Magic/FireTackle")
		Goto Kicking
	PowerLightningKick:
		TNT1 A 0 A_TakeInventory("MagicAmmo", 5)
		TNT1 A 0 A_TakeInventory("SpecialShot", 9)
		TNT1 A 0 A_TakeInventory("TimerTick", 9999)
		TNT1 A 0 A_GiveInventory("TimerTick", 10)
		KICK JKLMN 1
		TNT1 A 0 A_PlaySound("Magic/FireTackle")
		Goto Kicking
	Kicking:
		KICK O 1 BRIGHT A_Recoil(-5)
		TNT1 A 0 A_SpawnItem ("MeleeDashTrail",0,30)
		TNT1 A 0 A_FireCustomMissile("LightningKick", 0, 0, 0, 5)
		KICK O 1 BRIGHT A_Recoil(-5)
		TNT1 A 0 
		
		TNT1 A 0 A_JumpIfInventory("SpecialShot",1,"KickCoolDown")
		TNT1 A 0 A_JumpIfInventory("TimerTick",1,1)
		Goto KickEnd
		TNT1 A 0 A_TakeInventory("TimerTick", 1)
		Loop
	PowerKicking:
		KICK O 1 BRIGHT A_Recoil(-5)
		TNT1 A 0 A_SpawnItem ("MeleeDashTrail",0,30)
		TNT1 A 0 A_FireCustomMissile("LightningKickPower", 0, 0, 0, 5)
		KICK O 1 BRIGHT A_Recoil(-5)
		TNT1 A 0 A_FireCustomMissile("LightningKickPower", 0, 0, 0, 5)
		
		TNT1 A 0 A_JumpIfInventory("SpecialShot",1,"KickCoolDown")
		TNT1 A 0 A_JumpIfInventory("TimerTick",1,1)
		Goto KickEnd
		TNT1 A 0 A_TakeInventory("TimerTick", 1)
		Loop
	KickCoolDown:
		TNT1 A 0 A_ChangeVelocity(velx*0, vely*0, velz*0, CVF_REPLACE)
		KICK O 1
		TNT1 A 0 A_Recoil(15)
		Goto KickEnd2
	KickEnd:
		TNT1 A 0 A_TakeInventory("TimerTick", 9999)
		KICK P 2 A_FireCustomMissile("LightningKick", 0, 0, 0, 5)
		TNT1 A 0 A_JumpIfInventory("SpecialShot",1,"KickCoolDown")
		KICK P 2 A_FireCustomMissile("LightningKick", 0, 0, 0, 5)
		TNT1 A 0 A_JumpIfInventory("SpecialShot",1,"KickCoolDown")
		TNT1 A 0 A_jumpifinventory("PowerStrength",1,3)
		TNT1 A 0 A_GiveInventory("MagicAmmo", 2)
		Goto KickEnd2
		TNT1 AAAA 0
		TNT1 A 0 A_GiveInventory("MagicAmmo", 2)
	KickEnd2:
		TNT1 A 0 A_TakeInventory("SpecialShot", 9)
		KICK QRS 8
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
        KICK T 8
		KICK A 0 A_Takeinventory("Kicking",1)
		Goto Ready+6
		
	KickRight:
		KIK2 ABC 1
		TNT1 A 0 A_TakeInventory("PSeq2",1)
        TNT1 A 0 A_PlaySound("KICK")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_SetPitch(-6 + pitch)
		KIK2 D 1 A_TakeInventory("Kicking",1)
		PUN2 A 0 A_FireCustomMissile("AirKickAttack", 0, 0, 0, -31)
		KIK2 DD 1
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		KIK2 ECBA 1
		TNT1 A 5 
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		Goto Ready+8
		
		
	KickLeft:
		KIK1 ABC 1
		TNT1 A 0 A_TakeInventory("PSeq2",1)
        TNT1 A 0 A_PlaySound("KICK")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_SetPitch(-6 + pitch)
		KIK1 D 1
		PUN2 A 0 A_FireCustomMissile("AirKickAttack", 0, 0, 0, -31)
		KIK1 DD 1 A_TakeInventory("Kicking",1)
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		KIK1 ECBA 1
		TNT1 A 5
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		Goto Ready+8
		
	LSFire:
		THEF A 4
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
        THEF B 4 A_FireCustomMissile("PoorLostSoul", 0, 1, 0, 0)
        THEF CD 4
        TNT1 A 0 A_TakeInventory("LostSoulFatality",1)
		Goto Ready+8
		
	FireBarrel:
		THRF A 3 A_FireCustomMissile("ThrowedBarrel", 0, 1, 0, 0)
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_TakeInventory("HasBarrel",1)
        THRF ABCDEF 3 
		Goto Ready+8
	AltFireBarrel:
		PUNG A 1
		THRF A 0 A_SpawnItemEx ("MagitekBarrelLight",40,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_TakeInventory("HasBarrel",1)
		PUNG A 5
		Goto Ready+8
		
	FireFlameBarrel:
		THRF A 3 A_FireCustomMissile("ThrowedFlameBarrel", 0, 1, 0, 0)
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_TakeInventory("HasFlameBarrel",1)
        THRF ABCDEF 3 
		Goto Ready+8
	AltFireFlameBarrel:
		PUNG A 1
		THRF A 0 A_SpawnItemEx ("MagitekBarrelFire",40,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_TakeInventory("HasFlameBarrel",1)
		PUNG A 5
		Goto Ready+8
		
	FireIceBarrel:
		THRF A 3 A_FireCustomMissile("ThrowedIceBarrel", 0, 1, 0, 0)
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_TakeInventory("HasIceBarrel",1)
        THRF ABCDEF 3 
		Goto Ready+8
	AltFireIceBarrel:
		PUNG A 1
		THRF A 0 A_SpawnItemEx ("MagitekBarrelIce",40,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_TakeInventory("HasIceBarrel",1)
		PUNG A 5
		Goto Ready+8
		
	FireShockBarrel:
		THRF A 3 A_FireCustomMissile("ThrowedShockBarrel", 0, 1, 0, 0)
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_TakeInventory("HasShockBarrel",1)
        THRF ABCDEF 3 
		Goto Ready+8
	AltFireShockBarrel:
		PUNG A 1
		THRF A 0 A_SpawnItemEx ("MagitekBarrelShock",40,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_TakeInventory("HasShockBarrel",1)
		PUNG A 5
		Goto Ready+8
		
	FireEarthBarrel:
		THRF A 3 A_FireCustomMissile("ThrowedEarthBarrel", 0, 1, 0, 0)
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_TakeInventory("HasEarthBarrel",1)
        THRF ABCDEF 3 
		Goto Ready+8
	AltFireEarthBarrel:
		PUNG A 1
		THRF A 0 A_SpawnItemEx ("MagitekBarrelEarth",40,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_TakeInventory("HasEarthBarrel",1)
		PUNG A 5
		Goto Ready+8
		
	FireDarkBarrel:
		THRF A 3 A_FireCustomMissile("ThrowedDarkBarrel", 0, 1, 0, 0)
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_TakeInventory("HasDarkBarrel",1)
        THRF ABCDEF 3 
		Goto Ready+8
	AltFireDarkBarrel:
		PUNG A 1
		THRF A 0 A_SpawnItemEx ("MagitekBarrelDark",40,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
        TNT1 A 0 A_PlaySound("skeleton/swing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		TNT1 A 0 A_TakeInventory("HasDarkBarrel",1)
		PUNG A 5
		Goto Ready+8
		
	FireSentryGun:
		TNT1 A 0
		SENT A 0 bright A_PlaySound("LightRifle/Charge1",0, 1, false, 0.1)
		MLSN A 8 Light ("PLSGREENSMALL")
		MLSN AAA 3 A_FireCustomMissile ("MeleeSentryShot", random(-1,1), 0, -1, 0, 0, random(-1,1))
		TNT1 A 0 A_TakeInventory("SentryShots",1)
		MLSN A 10 Light ("PLSGREENSMALL")
		TNT1 A 0 A_JumpIfInventory("SentryShots", 1, "ReadySentry")
		Goto DestorySentryGun
	AltFireSentryGun:
		TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("SentryShots", 2, 2)
		Goto FireSentryGun
		TNT1 AAAA 0
		MLSN AAA 8 Light ("PLSGREENSMALL") A_PlaySound("LightRifle/Charge3",0, 1, false, 0.1)
		MLSN A 8 Light ("PLSGREENSMALL")
		MLSN AAAAAAA 0 A_FireCustomMissile ("MeleeSentryShot", random(-10,10), 0, -1, 0, 0, 0)
		TNT1 A 0 A_TakeInventory("SentryShots",2)
		MLSN A 20 Light ("PLSGREENSMALL")
		TNT1 A 0 A_JumpIfInventory("SentryShots", 1, "ReadySentry")
		Goto DestorySentryGun
	DestorySentryGun:
		TNT1 A 0
		TNT1 A 1 A_PlaySound("FAREXPL", 0, 4.0)
		TNT1 A 0 A_PlaySound("Sentry/Pain", 0, 4.0)
		TNT1 AAA 0 A_FireCustomMissile ("SentryBoomGen")
		Goto Ready

	PowerAttack:
        TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("PSeq2",1,"BerserkHook")
		PUNG BC 2
        TNT1 A 0 A_PlaySound("weapons/gswing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		NULL A 0 A_JumpIfHealthLower(35, "FireCritical2")
		TNT1 A 0 A_jumpifinventory("MagicCooldown",1,3)
		TNT1 A 0 A_FireCustomMissile("MeleeStrike1Smash", 0, 0, 0, 5)
		TNT1 A 0 A_Jump (256, 3)
		TNT1 A 0
		TNT1 A 0 A_FireCustomMissile("TimeMeleeStrike1Smash", 0, 0, 0, 5)
		TNT1 A 0 A_GiveInventory("PSeq1", 1)
		Goto FinishPunch1
		

		
	FinishPunch1:	
		PUNG E 1
		TNT1 A 0 A_TakeInventory("Kicking", 1)
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		PUNG FGHI 1 A_WeaponReady(1)
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		PUNG A 2 A_WeaponReady(1)
		TNT1 A 0 A_TakeInventory("PSeq1", 2)
		TNT1 A 0 A_JumpIfInventory("LostSoulFatality",1,"ReadySoul")
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
        PUNG A 2 A_WeaponReady(1)
		TNT1 A 0 A_Refire
		Goto Ready+8
		


	
		
	AltPowerAttack:
		PUN2 AC 1
        TNT1 A 0 A_PlaySound("weapons/gswing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		
		
		NULL A 0 A_JumpIfHealthLower(35, "AltPowerAttackHeal")
		TNT1 A 0 A_jumpifinventory("MagicCooldown",1,3)
		TNT1 A 0 A_FireCustomMissile("MeleeStrike2Smash", 0, 0, 0, 5)
		TNT1 A 0 A_Jump (256, 3)
		TNT1 A 0
		TNT1 A 0 A_FireCustomMissile("TimeMeleeStrike2Smash", 0, 0, 0, 5)
		Goto FInishPunch2

    AltPowerAttackHeal:
		TNT1 A 0 A_jumpifinventory("MagicCooldown",1,3)
		TNT1 A 0 A_FireCustomMissile("MeleeStrike2SmashHeal", 0, 0, 0, 5)
		TNT1 A 0 A_Jump (256, 3)
		TNT1 A 0
		TNT1 A 0 A_FireCustomMissile("TimeMeleeStrike2SmashHeal", 0, 0, 0, 5)
		Goto FInishPunch2
		
	FinishPunch2:
		PUN2 D 4
		TNT1 A 0 A_TakeInventory("Kicking", 1)
		PUN2 EF 2
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		PUN2 GH 2 A_WeaponReady((WRF_NOBOB|WRF_NOSECONDARY))
		TNT1 A 0 A_JumpIfInventory("Kicking",1,"KickLeft")
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		PUNG A 6 A_WeaponReady((WRF_NOBOB|WRF_NOSECONDARY))
		TNT1 A 0 A_TakeInventory("PSeq1", 2)
		TNT1 A 0 A_TakeInventory("PSeq2", 1)
		TNT1 A 0 A_JumpIfInventory("LostSoulFatality",1,"ReadySoul")
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
        PUNG A 2 A_WeaponReady((WRF_NOBOB|WRF_NOSECONDARY))
		Goto Ready+8
		
		
	BerserkHook:
		TNT1 A 0 A_TakeInventory("PSeq2", 1)
		TNT1 A 0 A_TakeInventory("PSeq1", 2)
		TNT1 A 0 A_Recoil(-20)
		PUN3 ABCDE 1
        TNT1 A 0 A_PlaySound("weapons/gswing")
		TNT1 A 0 A_Giveinventory("Punching",1)
		PUN3 F 1
		PUNG A 0 A_FireCustomMissile("MeleeStrikeSuperHook", 0, 0, 0, 0)
		RIFF A 0 A_FireCustomMissile("HookAttack", 0, 0, 0, 5)
		RIFF A 0 A_FireCustomMissile("HookAttack", 0, 0, 25, 5)
		RIFF A 0 A_FireCustomMissile("HookAttack", 0, 0, -25, 5)
		
		PUN3 GH 2
		KICK A 0 A_Takeinventory("Kicking",1)
		PUN3 IJKLL 4
        TNT1 A 10
		Goto Ready+8
		
		
		
		
		
		
		
		
		


	



    DoKick:
	    TNT1 A 0
		Goto AirKick
    BerserkerKick:
		TNT1 A 0 A_PlaySound("KICK")
		TNT1 A 0 SetPlayerProperty(0,1,0)
		KICK ABCDEFG 1
        RIFF A 0 A_FireCustomMissile("SuperKickAttack", 0, 0, 0, -7)
        KICK H 3
		KICK A 0 A_Takeinventory("Kicking",1)
		KICK IGFEDCBA 1 
		TNT1 A 0 SetPlayerProperty(0,0,0)
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		Goto Ready+6
	
	AirKick:
	    TNT1 A 0 A_jumpifinventory("PowerStrength",1,"SuperAirKick")
		TNT1 A 0 A_PlaySound("KICK")
		TNT1 A 0 A_Recoil (-6)
		KICK JKLMN 1
        RIFF A 0 A_FireCustomMissile("AirKickAttack", 0, 0, 0, -31)
        KICK O 3
		KICK A 0 A_Takeinventory("Kicking",1)
		KICK PQRST 2
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		Goto Ready+6
		
	SuperAirKick:
		TNT1 A 0 A_PlaySound("KICK")
		TNT1 A 0 A_Recoil (-6)
		KICK JKLMN 1
        RIFF A 0 A_FireCustomMissile("SuperAirKickAttack", 0, 0, 0, -31)
        KICK O 3
		KICK A 0 A_Takeinventory("Kicking",1)
		KICK PQRST 2
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Rekka")
		Goto Ready+6

    Taunt:
        TNT1 A 5
		FUCK A 2
		TNT1 A 0 BRIGHT A_FireCustomMissile("Taunter", 0, 0, -1, 0)
		TNT1 A 0 BRIGHT A_FireCustomMissile("Taunter", -9, 0, -1, 0)
		TNT1 A 0 BRIGHT A_FireCustomMissile("Taunter", 9, 0, -1, 0)
        FUCK B 2 A_PlaySound("FUCK", 1)
        FUCK C 2 A_AlertMonsters
		FUCK D 15 A_Takeinventory("Taunting",1)
        FUCK CBA 5
        TNT1 A 5
		Goto Ready+8
	}
}


ACTOR PoorLostSoul
{
	Radius 6
	Height 8
	Speed 22
    Fastspeed 26
	Damage (50)
	Projectile 
    Scale 1.0
	+FORCEXYBILLBOARD
    DamageType Fire
ExplosionRadius 100
ExplosionDamage 100
	Alpha 1
	SeeSound "skull/melee"
	DeathSound "fatso/shotx"
	species "Marines"
	+THRUSPECIES
	States
	{
	Spawn:
        TNT1 A 0 A_CustomMissile ("FlameTrails", 24, 0, 0, 0, 0)
        LSOL B 2 BRIGHT A_SpawnItem("RedFlare",0,0)
		Loop
	Death:
    
		LSOL F 2 BRIGHT
		LSOL G 2 BRIGHT
		TNT1 A 0 A_Explode (100, 100)
	EXPL AAAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile ("FlameTrails", 6, 0, random (0, 360), 2, random (0, 360))
		EXPL A 0 A_SpawnItemEx("ExplosionParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 0)
    TNT1 AAA 0 A_CustomMissile ("LSpart1", 42, 0, random (0, 360), 2, random (0, 160))
    TNT1 A 0 A_CustomMissile ("LSpart3", 42, 0, random (0, 360), 2, random (0, 160))
    TNT1 AAAA 0 A_CustomMissile ("LSpart2", 42, 0, random (0, 360), 2, random (0, 160))
		TNT1 A 0
        LSOL HI 6
		Stop
		Stop
	}
}



ACTOR ThrowedBarrel
{
	Radius 6
	Height 8
	Speed 32
    Fastspeed 32
	Damage (100)
	+MISSILE
	Gravity 0.6
    Scale 1.0
	+FORCEXYBILLBOARD
	DamageType Rock
	Alpha 1
	+BOUNCEONCEILINGS
	+BOUNCEONWALLS
	WallBounceFactor 0.2
	DeathSound "Explosion"
	species "Marines"
	+THRUSPECIES
	States
	{
	Spawn:
        TBRA A 2
		Loop
		
    Death:
        TNT1 A 0
        TNT1 A 0 A_SpawnItemEx ("BarrelExplosionLight",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}

ACTOR ThrowedFlameBarrel : ThrowedBarrel
{
	States
	{
	Spawn:
        TBRA A 1
		TNT1 A 0 A_CustomMissile ("ImBallGettingReady2", 35, 0, random (0, 140), 2, random (0, 160))
		TNT1 A 0 bright A_CustomMissile ("RealFlameTrailsSmallLong", 38, 0, random (40, 180), 2, random (50, 130))
		Loop
		
    Death:
        TNT1 A 0 A_AlertMonsters
        TNT1 AAAA 0 A_CustomMissile ("FlyingBurningFuel2", 24, 0, random (0, 360), 2, random (0, 40))
		TNT1 AAAA 0 A_CustomMissile ("FlyingBurningFuel3", 24, 0, random (0, 360), 2, random (0, 40))
		TNT1 AAAA 0 A_CustomMissile ("FlyingBurningFuel4", 24, 0, random (0, 360), 2, random (0, 40))
		EXPL A 0 A_CustomMissile ("FlameSpot", 12, 0, 0, 2, 0)
        BARK DE 3
		BARK F -1
	}
}

ACTOR ThrowedIceBarrel : ThrowedBarrel
{
	States
	{
	Spawn:
        TBRA A 1
		TNT1 A 0 A_CustomMissile ("IceCloud", 35, 0, random (0, 140), 2, random (0, 160))
		Loop
		
    Death:
        TNT1 A 0
        TNT1 A 0 A_SpawnItemEx ("BarrelExplosionIce",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}

ACTOR ThrowedShockBarrel : ThrowedBarrel
{
	States
	{
	Spawn:
        TBRA A 1
		TNT1 A 0 A_CustomMissile ("ShockBurst", 35, 0, random (0, 140), 2, random (0, 160))
		Loop
		
    Death:
        TNT1 A 0
        TNT1 A 0 A_SpawnItemEx ("BarrelExplosionShock",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}

ACTOR ThrowedEarthBarrel : ThrowedBarrel
{
	States
	{
	Spawn:
        TBRA A 1
		Loop
		
    Death:
        TNT1 A 0
        TNT1 A 0 A_SpawnItemEx ("BarrelExplosionEarth",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}

ACTOR ThrowedDarkBarrel : ThrowedBarrel
{
	States
	{
	Spawn:
        TBRA A 1
		Loop
		
    Death:
        TNT1 A 0
        TNT1 A 0 A_SpawnItemEx ("BarrelExplosionDark",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}

ACTOR MeleeSentryShot
{
  height 10
  radius 10
  damage (50)
  speed 60
  Scale .9
  DamageType Plasma
  PROJECTILE
  SeeSound "LightRifle/Fire"
  DeathSound "weapons/plasmax"
  Decal "Scorch"
  species "Marines"
	+THRUSPECIES
     States
   {
    Spawn:
      PLS1 A 1 Bright Light ("PLSGREENSMALL")
	  TNT1 A 0 A_CustomMissile ("GreenPLSFlame", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSFlame2", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSFlame", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
	  PLS1 A 1 Bright Light ("PLSGREENSMALL")
	  TNT1 A 0 A_CustomMissile ("GreenPLSFlame2", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSFlame", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSFlame2", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
      Loop
    Death:
	  TNT1 A 0 A_CustomMissile ("GreenPLSBoom", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSBoom2", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSBoom2", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSSpark", 0, 0, random (0, 360), 2 | 4, random (10, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSSpark2", 0, 0, random (0, 360), 2 | 4, random (10, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSSpark", 0, 0, random (0, 360), 2 | 4, random (10, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSSpark2", 0, 0, random (0, 360), 2 | 4, random (10, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSSpark", 0, 0, random (0, 360), 2 | 4, random (10, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSSpark2", 0, 0, random (0, 360), 2 | 4, random (10, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSSpark3", 0, 0, random (0, 360), 2 | 4, random (10, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSSpark3", 0, 0, random (0, 360), 2 | 4, random (10, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSSpark3", 0, 0, random (0, 360), 2 | 4, random (10, 50))
	  TNT1 A 0 A_CustomMissile ("GreenPLSSpark3", 0, 0, random (0, 360), 2 | 4, random (10, 50))
      PLS1 CDEFG 1 Bright Light ("PLSBOOMSMALL")
      Stop
   }
}

ACTOR KickAttack: FastProjectile
{
	Radius 6
	Height 6
	DamageType Kick
	Projectile 
	+FORCEXYBILLBOARD
	+NOEXTREMEDEATH
	RenderStyle Add
	Alpha 0.6
    Damage (30)
    Speed 35
	//HitObituary "$OB_IMPHIT"
	SeeSound "none"
	DeathSound "none"
	Decal "none"
	species "Marines"
	+THRUSPECIES
	States
	{
	Spawn:
		TNT1 A 1 BRIGHT
        TNT1 A 1 //A_PlaySound("weapons/gswing")
		Stop
	Death: Crash:
		    PUFF A 3 A_PlaySound("player/cyborg/fist")
			TNT1 A 0 A_SpawnItemEx ("PLOFT2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
			PUFF BCD 3
			Stop
	XDeath:
		    PUFF A 3 A_PlaySound("player/cyborg/fist")
			TNT1 A 0 A_SpawnItemEx ("PLOFT2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
			PUFF BCD 3
			TNT1 A 0 A_GiveToTarget ("MagicAmmo", 1)
			TNT1 A 0 A_CustomMissile ("BlueManaPoint", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
			Stop
	}
}

ACTOR TimeKickAttack: KickAttack
{
	+NOTIMEFREEZE
	States
	{
	XDeath:
		    PUFF A 3 A_PlaySound("player/cyborg/fist")
			TNT1 A 0 A_SpawnItemEx ("PLOFT2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
			PUFF BCD 3
			Stop
	}
}


ACTOR SuperKickAttack: KickAttack
{
    Damage (50)
	+NOEXTREMEDEATH
	DamageType Kick
	States
	{
	XDeath:
	    TNT1 A 0
		TNT1 A 0 A_GiveToTarget ("MagicAmmo", 2)
		TNT1 A 0 A_CustomMissile ("BlueManaPoint", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		TNT1 A 0 A_CustomMissile ("BlueManaPoint2", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		PUFF A 3 A_PlaySound("player/cyborg/fist")
		PUFF BCD 3
		Stop
	}
}

ACTOR HookAttack: KickAttack
{
    Speed 80
	States 
	{
	XDeath:
		    PUFF A 3 A_PlaySound("player/cyborg/fist")
			TNT1 A 0 A_SpawnItemEx ("PLOFT2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
			PUFF BCD 3
			Stop
	}
}

ACTOR AirKickAttack: KickAttack
{
	Radius 12
	Height 12
    Damage (50)
}


ACTOR SuperAirKickAttack: SuperKickAttack
{
	Radius 12
	Height 12
    Damage (75)
}



ACTOR MeleeStrike1: KickAttack
{
DamageType Melee
Damage (25)
Speed 50
States
{
	Spawn:
		TNT1 A 1 BRIGHT
		Stop
	Death: Crash:
	    TNT1 A 0
		PUFF A 3 A_PlaySound("player/cyborg/fist")
		PUFF BCD 3
		Stop
	XDeath:
	    TNT1 A 0
		TNT1 A 0 A_GiveToTarget ("MagicAmmo", 1)
		TNT1 A 0 A_CustomMissile ("BlueManaPoint", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		PUFF A 3 A_PlaySound("player/cyborg/fist")
		PUFF BCD 3
		Stop
}
}

ACTOR TimeMeleeStrike1: TimeKickAttack
{
DamageType Melee
Damage (25)
Speed 50
States
{
	Spawn:
		TNT1 A 1 BRIGHT
		Stop
	Death: Crash:
	    TNT1 A 0
		PUFF A 3 A_PlaySound("player/cyborg/fist")
		PUFF BCD 3
		Stop
	XDeath:
	    TNT1 A 0
		PUFF A 3 A_PlaySound("player/cyborg/fist")
		PUFF BCD 3
		Stop
}
}

ACTOR MeleeStrikeHeal: KickAttack
{
DamageType Melee
Damage (25)
Speed 50
States
{
	Spawn:
		TNT1 A 1 BRIGHT
		Stop
	Death: Crash:
	    TNT1 A 0
		PUFF A 3 A_PlaySound("player/cyborg/fist")
		PUFF BCD 3
		Stop
	XDeath:
	    TNT1 A 0
		TNT1 A 0 A_GiveToTarget ("Health", 10)
		TNT1 A 0 A_GiveToTarget ("MagicAmmo", 1)
		TNT1 A 0 A_CustomMissile ("BlueManaPoint", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		TNT1 AA 0 A_CustomMissile ("GreenPLSHeal", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		TNT1 AA 0 A_CustomMissile ("GreenPLSHeal2", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		PUFF A 3 A_PlaySound("player/cyborg/fist")
		PUFF BCD 3
		Stop
}
}

ACTOR TimeMeleeStrikeHeal: TimeKickAttack
{
DamageType Melee
Damage (25)
Speed 50
States
{
	Spawn:
		TNT1 A 1 BRIGHT
		Stop
	Death: Crash:
	    TNT1 A 0
		PUFF A 3 A_PlaySound("player/cyborg/fist")
		PUFF BCD 3
		Stop
	XDeath:
	    TNT1 A 0
		TNT1 A 0 A_GiveToTarget ("Health", 10)
		TNT1 AA 0 A_CustomMissile ("GreenPLSHeal", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		TNT1 AA 0 A_CustomMissile ("GreenPLSHeal2", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		PUFF A 3 A_PlaySound("player/cyborg/fist")
		PUFF BCD 3
		Stop
}
}

ACTOR MeleeStrike1Smash: MeleeStrike1
{
Damage (50)
DamageType Smash
States
{
	XDeath:
	    TNT1 A 0
		TNT1 A 0 A_GiveToTarget ("MagicAmmo", 1)
		TNT1 A 0 A_CustomMissile ("BlueManaPoint", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		PUFF A 3 A_PlaySound("player/cyborg/fist")
		PUFF BCD 3
		Stop
}
}

ACTOR TimeMeleeStrike1Smash: TimeMeleeStrike1
{
Damage (50)
DamageType Smash
States
{
	XDeath:
	    TNT1 A 0
		PUFF A 3 A_PlaySound("player/cyborg/fist")
		PUFF BCD 3
		Stop
}
}

ACTOR MeleeStrikeSmashHeal: MeleeStrikeHeal
{
Damage (40)
DamageType Extremepunches
}

ACTOR TimeMeleeStrikeSmashHeal: TimeMeleeStrikeHeal
{
Damage (40)
DamageType Extremepunches
}


ACTOR MeleeStrike2: MeleeStrike1
{
Damage (60)
+FORCEPAIN
}

ACTOR MeleeStrike2Heal: MeleeStrikeHeal
{
Damage (60)
+FORCEPAIN
}

ACTOR TimeMeleeStrike2Heal: TimeMeleeStrikeHeal
{
Damage (60)
+FORCEPAIN
}

ACTOR MeleeStrike2Smash: MeleeStrike1Smash
{
Damage (120)
DamageType Extremepunches
+FORCEPAIN
}

ACTOR TimeMeleeStrike2Smash: TimeMeleeStrike1Smash
{
Damage (120)
DamageType Extremepunches
+FORCEPAIN
}

ACTOR MeleeStrike2SmashHeal: MeleeStrikeHeal
{
Damage (120)
DamageType Extremepunches
+FORCEPAIN
}

ACTOR TimeMeleeStrike2SmashHeal: MeleeStrikeHeal
{
Damage (120)
DamageType Extremepunches
+FORCEPAIN
}


ACTOR MeleeStrikeSuperHook: MeleeStrike1Smash
{
Damage (120)
DamageType Extreme
}

ACTOR TimeMeleeStrikeSuperHook: TimeMeleeStrike1Smash
{
Damage (120)
DamageType Extreme
}	

ACTOR LightningKick
{
	Radius 10
	Height 10
	Projectile 
	+RANDOMIZE
    Damage (140)
	+FORCEXYBILLBOARD
    +THRUGHOST
    +BLOODSPLATTER 
	+DONTGIB
	+FORCEPAIN
	RenderStyle Add
	Alpha 0.6
	HitObituary "$OB_IMPHIT"
    Obituary "$OB_IMPHIT"
	species "Marines"
	+THRUSPECIES
	+DONTHURTSPECIES
	SeeSound "None"
	DeathSound "none"
	Decal "none"
    Speed 60
	States
	{
	Spawn:
		TNT1 A 1 BRIGHT
		Stop
	Death: XDeath: Crash:
		TNT1 A 0 A_SpawnItem("Spark_UpOnce")
		TNT1 A 0 A_GiveToTarget ("SpecialShot", 1)
		TNT1 A 0 A_CustomMissile ("ShockBoom", 30, 0, 0)
		TNT1 AAAA 1 A_CustomMissile ("MeleeShockEffect", 2, 0, random (0, 360), 2, random (20, 90))
		TNT1 A 0 A_Explode(140, 100, false, 0,100)
		TNT1 A 0 A_CustomMissile ("ShockBoom", 30, 0, 0)
		TNT1 AAAA 1 A_CustomMissile ("MeleeShockEffect", 2, 0, random (0, 360), 2, random (20, 90))
		TNT1 A 0 A_Explode(140, 100, false, 0,100)
		Stop
	}
}

ACTOR LightningKickPower : LightningKick
{
	States
	{
	Death: XDeath: Crash:
		TNT1 A 0 A_SpawnItem("Spark_UpOnce")
		TNT1 A 0 A_GiveToTarget ("SpecialShot", 1)
		TNT1 A 0 A_CustomMissile ("ShockBoom", 30, 0, 0)
		TNT1 AAAA 1 A_CustomMissile ("MeleeShockEffect", 2, 0, random (0, 360), 2, random (20, 90))
		TNT1 A 0 A_Explode(280, 100, false, 0,100)
		TNT1 A 0 A_CustomMissile ("ShockBoom", 30, 0, 0)
		TNT1 AAAA 1 A_CustomMissile ("MeleeShockEffect", 2, 0, random (0, 360), 2, random (20, 90))
		TNT1 A 0 A_Explode(280, 100, false, 0,100)
		Stop
	}
}

ACTOR BlastStun: TimeKickAttack
{
DamageType Bullet
Damage (0)
Speed 100
+FORCEPAIN
+NODAMAGETHRUST
species "Marines"
	+THRUSPECIES
	+DONTHURTSPECIES
States
{
	Spawn:
		TNT1 A 1 BRIGHT
		Goto Death
	Death: Crash: XDeath:
	    TNT1 A 0 A_ChangeVelocity(velx*0, vely*0, velz*0, CVF_REPLACE)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(3,7), 1*random(3,7), 1*random(3,7), Random(0, 360), 129, 0)
		TNT1 A 5 A_Explode(25, 100, false, 0,100)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(3,7), 1*random(3,7), 1*random(3,7), Random(0, 360), 129, 0)
		TNT1 A 5 A_Explode(25, 100, false, 0,100)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(3,7), 1*random(3,7), 1*random(3,7), Random(0, 360), 129, 0)
		TNT1 A 5 A_Explode(25, 100, false, 0,100)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(3,7), 1*random(3,7), 1*random(3,7), Random(0, 360), 129, 0)
		TNT1 A 5 A_Explode(25, 100, false, 0,100)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(3,7), 1*random(3,7), 1*random(3,7), Random(0, 360), 129, 0)
		TNT1 A 5 A_Explode(25, 100, false, 0,100)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(3,7), 1*random(3,7), 1*random(3,7), Random(0, 360), 129, 0)
		TNT1 A 5 A_Explode(25, 100, false, 0,100)
		TNT1 A 0 A_CustomMissile ("BlastExplosion", 0, 0, 0, 2 | 4, 0)
		Stop
}
}

ACTOR BlastExplosion: TimeKickAttack
{
DamageType ExplosiveImpact
Damage (0)
Speed 0
+FORCEPAIN
species "Marines"
+THRUSPECIES
+DONTHURTSPECIES
States
{
	Spawn:
		TNT1 A 1 BRIGHT
		Goto Death
	Death: Crash: XDeath:
	    TNT1 A 0 A_ChangeVelocity(velx*0, vely*0, velz*0, CVF_REPLACE)
		TNT1 A 0 A_Explode(200, 200, false)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionLarge", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(1,5), 1*random(1,5), 1*random(1,5), Random(0, 360), 129, 0)
		TNT1 AAAAAAAAAA 0 A_SpawnItemEx ("MeleeExplosionSmall", random(-50, 50), random(-50, 50), random(-50, 50), 1*random(4,8), 1*random(4,8), 1*random(4,8), Random(0, 360), 129, 0)
		TNT1 AAAAAAAAAAAAAAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-50, 50), random(-50, 50), random(-50, 50), 1*random(5,10), 1*random(5,10), 1*random(5,10), Random(0, 360), 129, 0)
		TNT1 A 0 A_RadiusThrust(30000, 300, false | RTF_NOIMPACTDAMAGE)
		Stop
}
}

ACTOR BlastStunPower: TimeKickAttack
{
DamageType Bullet
Damage (0)
Speed 100
+FORCEPAIN
species "Marines"
+THRUSPECIES
+DONTHURTSPECIES
States
{
	Spawn:
		TNT1 A 1 BRIGHT
		Goto Death
	Death: Crash: XDeath:
		TNT1 A 0 A_ChangeVelocity(velx*0, vely*0, velz*0, CVF_REPLACE)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(3,7), 1*random(3,7), 1*random(3,7), Random(0, 360), 129, 0)
		TNT1 A 5 A_Explode(35, 100, false, 0,100)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(3,7), 1*random(3,7), 1*random(3,7), Random(0, 360), 129, 0)
		TNT1 A 5 A_Explode(35, 100, false, 0,100)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(3,7), 1*random(3,7), 1*random(3,7), Random(0, 360), 129, 0)
		TNT1 A 5 A_Explode(35, 100, false, 0,100)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(3,7), 1*random(3,7), 1*random(3,7), Random(0, 360), 129, 0)
		TNT1 A 5 A_Explode(35, 100, false, 0,100)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(3,7), 1*random(3,7), 1*random(3,7), Random(0, 360), 129, 0)
		TNT1 A 5 A_Explode(35, 100, false, 0,100)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(3,7), 1*random(3,7), 1*random(3,7), Random(0, 360), 129, 0)
		TNT1 A 5 A_Explode(35, 100, false, 0,100)
		TNT1 A 0 A_CustomMissile ("BlastExplosion", 0, 0, 0, 2 | 4, 0)
		Stop
}
}

ACTOR BlastExplosionPower: TimeKickAttack
{
DamageType ExplosiveImpact
Damage (0)
Speed 0
+FORCEPAIN
species "Marines"
+THRUSPECIES
+DONTHURTSPECIES
States
{
	Spawn:
		TNT1 A 1 BRIGHT
		Goto Death
	Death: Crash: XDeath:
	    TNT1 A 0 A_ChangeVelocity(velx*0, vely*0, velz*0, CVF_REPLACE)
		TNT1 A 0 A_Explode(300, 200, false)
		TNT1 AAAA 0 A_SpawnItemEx ("MeleeExplosionLarge", random(-25, 25), random(-25, 25), random(-25, 25), 1*random(1,5), 1*random(1,5), 1*random(1,5), Random(0, 360), 129, 0)
		TNT1 AAAAAAAAAA 0 A_SpawnItemEx ("MeleeExplosionSmall", random(-50, 50), random(-50, 50), random(-50, 50), 1*random(4,8), 1*random(4,8), 1*random(4,8), Random(0, 360), 129, 0)
		TNT1 A 1
		TNT1 AAAAAAAAAAAAAAAA 0 A_SpawnItemEx ("MeleeExplosionPart", random(-50, 50), random(-50, 50), random(-50, 50), 1*random(5,10), 1*random(5,10), 1*random(5,10), Random(0, 360), 129, 0)
		TNT1 A 0 A_RadiusThrust(30000, 300, false | RTF_NOIMPACTDAMAGE)
		Stop
}
}

ACTOR UppercutHit: TimeMeleeStrike1
{
Damage (0)
DamageType ExplosiveImpact
species "Marines"
+THRUSPECIES
+DONTHURTSPECIES
States
{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 1 BRIGHT
		TNT1 A 0 A_ChangeVelocity(velx*0, vely*0, velz*0, CVF_REPLACE)
	    TNT1 AAA 0 A_CustomMissile ("MeleeExplosionSmall", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame4", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame3", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame2", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_Explode(55, 150, false)
		Stop
	Death: XDeath: Crash:
		TNT1 A 0 A_ChangeVelocity(velx*0, vely*0, velz*0, CVF_REPLACE)
	    TNT1 AAA 0 A_CustomMissile ("MeleeExplosionSmall", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame4", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame3", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame2", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_Explode(55, 150, false)
		PUFF A 3 A_PlaySound("player/cyborg/fist")
		PUFF BCD 3
		Stop
}
}

ACTOR UppercutHitPower: UppercutHit
{
States
{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 1 BRIGHT
		TNT1 A 0 A_ChangeVelocity(velx*0, vely*0, velz*0, CVF_REPLACE)
	    TNT1 AAA 0 A_CustomMissile ("MeleeExplosionSmall", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame4", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame3", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame2", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_Explode(80, 150, false)
		Stop
	Death: XDeath: Crash:
		TNT1 A 0 A_ChangeVelocity(velx*0, vely*0, velz*0, CVF_REPLACE)
	    TNT1 AAA 0 A_CustomMissile ("MeleeExplosionSmall", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame4", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame3", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_CustomMissile ("GreenPLSFlame2", 2, 0, random (0, 360), 2, random (10, 90))
		TNT1 A 0 A_Explode(80, 150, false)
		PUFF A 3 A_PlaySound("player/cyborg/fist")
		PUFF BCD 3
		Stop
}
}