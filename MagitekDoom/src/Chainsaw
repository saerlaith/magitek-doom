ACTOR NoSawBlade : Ammo
{
   Inventory.Amount 0
   Inventory.MaxAmount 1
   Ammo.BackpackAmount 0
   Ammo.BackpackMaxAmount 1
}

ACTOR SawFuel : Ammo
{
   Inventory.Amount 0
   Inventory.MaxAmount 100
   Ammo.BackpackAmount 0
   Ammo.BackpackMaxAmount 100
}

Actor RazorSaw : MagicBaseSystem
{
	Weapon.AmmoUse1 0
	Weapon.AmmoUse2 0
	Weapon.AmmoGive1 0
	Weapon.AmmoGive2 0
	Weapon.AmmoType1 "SawFuel"
	Inventory.PickupMessage "You got the Razor Saw!"
    +WEAPON.NOAUTOAIM
	+WEAPON.AXEBLOOD
	Scale 1
states
	{
	Select:
	TNT1 A 0 A_Takeinventory("Kicking",1)
	TNT1 A 0 A_Takeinventory("Reloading",1)
	TNT1 A 0 A_Takeinventory("FistsSelected",1)
	TNT1 A 0 A_Giveinventory("SawSelected",1)
	TNT1 A 0 A_Takeinventory("ShotgunSelected",1)
	TNT1 A 0 A_Takeinventory("SSGSelected",1)
	TNT1 A 0 A_Takeinventory("MinigunSelected",1)
	TNT1 A 0 A_Takeinventory("PlasmaGunSelected",1)
	TNT1 A 0 A_Takeinventory("RocketLauncherSelected",1)
    TNT1 A 0 A_Takeinventory("GrenadeLauncherSelected",1)
	TNT1 A 0 A_Takeinventory("BFGSelected",1)
	TNT1 A 0 A_Takeinventory("BFG10kSelected",1)
	TNT1 A 0 A_Takeinventory("RailGunSelected",1)
	TNT1 A 0 A_Takeinventory("SubMachineGunSelected",1)
	TNT1 A 0 A_Takeinventory("RevenantLauncherSelected",1)
	TNT1 A 0 A_Takeinventory("LostSoulSelected",1)
	TNT1 A 0 A_Takeinventory("FlameCannonSelected",1)
	TNT1 A 0 A_Takeinventory("HasBarrel",1)
		KICK A 0 A_Takeinventory("PowerBloodOnVisor",1)
		KICK A 0 A_Takeinventory("PowerBlueBloodOnVisor",1)
		KICK A 0 A_Takeinventory("PowerGreenBloodOnVisor",1)
		TNT1 A 0 A_Raise
		Wait
	Deselect:
	    TNT1 A 0 A_Takeinventory("SawSelected",1)
		TNT1 A 0 A_StopsoundEx("Weapon")
		TNT1 A 0 a_unsetreflectiveinvulnerable
		BFSG A 0 A_Lower
		goto deselect+1
	MagicEnd:
		TNT1 A 0
		goto ready+9
    Steady:
	TNT1 A 1
	Goto Ready
	
	Spawn:
		CSAW A -1
		Stop
	
	Ready:
		TNT1 A 0
        TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0
        TNT1 A 0 A_JumpIfInventory("Kicking",1,"DoKick")
		TNT1 A 0 A_JumpIfInventory("Reloading",1,"Reload")
        TNT1 A 0 A_JumpIfInventory("Taunting",1,"Taunt")
		TNT1 A 0 A_JumpIfInventory("Salute1", 1, "MagicAction")
		TNT1 A 0 A_JumpIfInventory("Salute2", 1, "MagicSwap")
		TNT1 A 0 A_JumpIfInventory("MagicTSwap", 1, "MagicSwap2")
		TNT1 A 0 A_JumpIfInventory("NoSawBlade",1,"ReadyNoBlade")
		TNT1 A 0 A_Takeinventory("SwordType",5)
		TNT1 A 0 A_JumpIfInventory("SawFuel",1,2)
		Goto ReadyNoGas
		TNT1 AA 0
		TNT1 A 0 A_playsound("weapons/chainsaw/idle")
		TNT1 A 0 A_AlertMonsters(1000)
		SAWG A 2 A_weaponready
        SAWG B 2 A_weaponready
		Goto Ready+20
	ReadyNoBlade:
		SAWR Z 2
		TNT1 A 0 A_Takeinventory("Kicking",1)
		SAWR Z 2 A_weaponready
		Goto Ready+20
	ReadyNoGas:
		TNT1 A 0 A_StopsoundEx("Weapon")
		SAWG A 2 A_weaponready
		Goto Ready+20
		
	Fire:
		TNT1 A 0 A_JumpIfInventory("NoSawBlade",1,"ReadyNoBlade")
		SAWG A 1
		TNT1 A 0 A_jumpifinventory("PowerStrength",1,3)
		TNT1 A 0 A_JumpIfInventory("SawFuel",1,2)
		Goto ReadyNoGas
		TNT1 AAA 0
		TNT1 A 0 A_playsound("weapons/chainsaw/start")
		SAWG BCD 1
	Hold:
		TNT1 A 0 A_jumpifinventory("PowerStrength",1,"HoldPower")
		TNT1 A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		TNT1 A 0 A_JumpIfInventory("SawFuel",1,2)
		Goto ReadyNoGas
		TNT1 AAA 0
		NULL A 0 A_JumpIfHealthLower(35, "HoldHeal")
		SAWF A 2 A_FireCustomMissile("SawMultiHit", 0, 0, 0, 5)
		SAWF C 2
		TNT1 A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		NULL A 0 A_JumpIfHealthLower(35, "HoldHeal")
		TNT1 A 0 A_Takeinventory("SawFuel",1)
		SAWF A 2 A_FireCustomMissile("SawMultiHit", 0, 0, 0, 5)
		SAWF C 2
		TNT1 A 0 A_Refire
		TNT1 A 0 A_StopsoundEx("Weapon")
		TNT1 A 0 A_Playsound("weapons/chainsaw/stop")
		SAWG DC 1
		Goto Ready+20
	HoldPower:
		TNT1 A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		TNT1 A 0 A_JumpIfInventory("SawFuel",1,2)
		Goto ReadyNoGas
		TNT1 AAA 0
		NULL A 0 A_JumpIfHealthLower(35, "HoldHeal")
		SAWF A 2 A_FireCustomMissile("SawMultiHit", 0, 0, 0, 5)
		SAWF C 2
		TNT1 A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		NULL A 0 A_JumpIfHealthLower(35, "HoldHeal")
		SAWF A 2 A_FireCustomMissile("SawMultiHit", 0, 0, 0, 5)
		SAWF C 2
		TNT1 A 0 A_Refire
		TNT1 A 0 A_StopsoundEx("Weapon")
		TNT1 A 0 A_Playsound("weapons/chainsaw/stop")
		SAWG DC 1
		Goto Ready+20
		
		
	HoldHeal:
		TNT1 A 0 A_Takeinventory("SawFuel",1)
		SAWF A 2 A_FireCustomMissile("SawMultiHitHeal", 0, 0, 0, 5)
		SAWF C 2
		TNT1 A 0 A_Refire
		TNT1 A 0 A_StopsoundEx("Weapon")
		TNT1 A 0 A_Playsound("weapons/chainsaw/stop")
		SAWG DC 1
		Goto Ready+20
	HoldHealPower:
		TNT1 A 0 A_Takeinventory("SawFuel",1)
		SAWF A 2 A_FireCustomMissile("SawMultiHitHeal", 0, 0, 0, 5)
		SAWF C 2
		TNT1 A 0 A_Takeinventory("SawFuel",1)
		SAWF A 2 A_FireCustomMissile("SawMultiHitHeal", 0, 0, 0, 5)
		SAWF C 2
		TNT1 A 0 A_Refire
		TNT1 A 0 A_StopsoundEx("Weapon")
		TNT1 A 0 A_Playsound("weapons/chainsaw/stop")
		SAWG DC 1
		Goto Ready+20

	AltFire:
		TNT1 A 0 Offset(-40,40) A_JumpIfInventory("NoSawBlade",1,"ReadyNoBlade")
		TNT1 A 0 A_jumpifinventory("SwordType",1,"SecondSwing")
		TNT1 A 0 A_jumpifinventory("PowerStrength",1,"PowerAltFire")
		TNT1 A 0 A_JumpIfInventory("SawFuel",12,2)
		Goto ReadyNoGas
		TNT1 AAA 0
		TNT1 A 0 A_Takeinventory("SawFuel",12)
		Goto AltContinue
	PowerAltFire:
		TNT1 A 0 A_JumpIfInventory("SawFuel",6,2)
		Goto ReadyNoGas
		TNT1 AAA 0
		TNT1 A 0 A_Takeinventory("SawFuel",6)
		Goto AltContinue
	AltContinue:
		NULL A 0 A_JumpIfHealthLower(35, "AltHeal")
		TNT1 A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		TNT1 A 0 A_playsound("weapons/chainsaw/start")
		TNT1 A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		SAWZ A 10
		SAWZ B 2 A_FireCustomMissile("SawSlice", -30, 0, 0, 0, 0, 15)
		SAWZ C 2 A_FireCustomMissile("SawSliceMP", -15, 0, 0, 0, 0, 7)
		SAWZ D 2 A_FireCustomMissile("SawSlice", 0, 0, 0, 0, 0, 0)
		SAWZ E 2 A_FireCustomMissile("SawSliceMP", 15, 0, 0, 0, 0, -7)
		SAWZ F 2 A_FireCustomMissile("SawSlice", 30, 0, 0, 0, 0, -14)
		SAWZ G 2
		TNT1 A 0 A_StopsoundEx("Weapon")
		TNT1 A 0 A_Playsound("weapons/chainsaw/stop")
		SAWZ H 2
		TNT1 A 0 A_GiveInventory("SwordType",5)
		SAWZ HHHHHHGFE 2 A_Refire
		TNT1 A 0 A_Takeinventory("SwordType",5)
		Goto Ready+20
		
	SecondSwing:
		TNT1 A 0 A_JumpIfInventory("NoSawBlade",1,"ReadyNoBlade")
		TNT1 A 0 A_jumpifinventory("PowerStrength",1,"PowerSecondSwing")
		TNT1 A 0 A_JumpIfInventory("SawFuel",8,2)
		Goto ReadyNoGas
		TNT1 AAA 0
		TNT1 A 0 A_Takeinventory("SawFuel",8)
		Goto SecondSwingContinue
	PowerSecondSwing:
		TNT1 A 0 A_JumpIfInventory("SawFuel",4,2)
		Goto ReadyNoGas
		TNT1 AAA 0
		TNT1 A 0 A_Takeinventory("SawFuel",4)
		Goto SecondSwingContinue
	SecondSwingContinue:
		NULL A 0 A_JumpIfHealthLower(35, "SecondHeal")
		TNT1 A 0 A_Takeinventory("SwordType",5)
		TNT1 A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		SAWZ A 1 Offset(-320,150)
		SAWZ A 1 Offset(-320,100)
		SAWZ A 1 Offset(-320,500)
		SAWZ A 1 Offset(-320,30)
		SAWZ A 1 Offset(-310,40)
		SAWZ A 1 Offset(-300,50)
		SAWZ A 1 Offset(-290,60)
		TNT1 A 0 A_playsound("weapons/chainsaw/start")
		TNT1 A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		SAWZ A 2 Offset(-250,70) A_FireCustomMissile("SawSliceMP", 40, 0, 0, 0, 0, 0)
		SAWZ A 2 Offset(-200,70) A_FireCustomMissile("SawSlice", 20, 0, 0, 0, 0, 0)
		SAWZ A 2 Offset(-150,80) A_FireCustomMissile("SawSliceMP", 0, 0, 0, 0, 0, 0)
		SAWZ A 2 Offset(-100,80) A_FireCustomMissile("SawSlice", -20, 0, 0, 0, 0, 0)
		SAWZ A 2 Offset(-50,80) A_FireCustomMissile("SawSliceMP", -40, 0, 0, 0, 0, 0)
		SAWZ A 2 Offset(-10,80) 
		SAWZ A 6 Offset(-5,80)
		TNT1 A 0 A_StopsoundEx("Weapon")
		TNT1 A 0 A_Playsound("weapons/chainsaw/stop")
		SAWZ A 6 Offset(5,80) 
		SAWZ A 2 Offset(-5,70)
		SAWZ A 2 Offset(-20,60) 
		SAWZ A 2 Offset(-40,50)
		SAWZ A 4 Offset(-50,40)
		SAWZ AAA 2 Offset(-50,40) A_Refire 
		SAWZ A 2 Offset(5,50) A_Refire 
		SAWZ A 2 Offset(10,70) A_weaponready
		SAWZ A 2 Offset(15,90) A_Refire
		SAWZ A 2 Offset(20,110) A_Refire
		SAWZ A 2 Offset(25,130) A_Refire
		SAWZ A 4 Offset(30,150) A_Refire
		TNT1 A 0 Offset(-40,40)
		Goto Ready+20
		
	AltHeal:
		TNT1 A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		TNT1 A 0 A_playsound("weapons/chainsaw/start")
		TNT1 A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		SAWZ A 10
		SAWZ B 2 A_FireCustomMissile("SawSliceHeal", -30, 0, 0, 0, 0, 15)
		SAWZ C 2 A_FireCustomMissile("SawSliceHeal", -15, 0, 0, 0, 0, 7)
		SAWZ D 2 A_FireCustomMissile("SawSliceHeal", 0, 0, 0, 0, 0, 0)
		SAWZ E 2 A_FireCustomMissile("SawSliceHeal", 15, 0, 0, 0, 0, -7)
		SAWZ F 2 A_FireCustomMissile("SawSliceHeal", 30, 0, 0, 0, 0, -14)
		SAWZ G 2
		TNT1 A 0 A_StopsoundEx("Weapon")
		TNT1 A 0 A_Playsound("weapons/chainsaw/stop")
		SAWZ H 2
		TNT1 A 0 A_GiveInventory("SwordType",5)
		SAWZ HHHHHHGFE 2 A_Refire
		TNT1 A 0 A_Takeinventory("SwordType",5)
		Goto Ready+20
	SecondHeal:
		TNT1 A 0 A_Takeinventory("SwordType",5)
		TNT1 A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		SAWZ A 1 Offset(-320,150)
		SAWZ A 1 Offset(-320,100)
		SAWZ A 1 Offset(-320,500)
		SAWZ A 1 Offset(-320,30)
		SAWZ A 1 Offset(-310,40)
		SAWZ A 1 Offset(-300,50)
		SAWZ A 1 Offset(-290,60)
		TNT1 A 0 A_playsound("weapons/chainsaw/start")
		TNT1 A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		SAWZ A 2 Offset(-250,70) A_FireCustomMissile("SawSliceHeal", 40, 0, 0, 0, 0, 0)
		SAWZ A 2 Offset(-200,70) A_FireCustomMissile("SawSliceHeal", 20, 0, 0, 0, 0, 0)
		SAWZ A 2 Offset(-150,80) A_FireCustomMissile("SawSliceHeal", 0, 0, 0, 0, 0, 0)
		SAWZ A 2 Offset(-100,80) A_FireCustomMissile("SawSliceHeal", -20, 0, 0, 0, 0, 0)
		SAWZ A 2 Offset(-50,80) A_FireCustomMissile("SawSliceHeal", -40, 0, 0, 0, 0, 0)
		SAWZ A 2 Offset(-10,80) 
		SAWZ A 6 Offset(-5,80)
		TNT1 A 0 A_StopsoundEx("Weapon")
		TNT1 A 0 A_Playsound("weapons/chainsaw/stop")
		SAWZ A 8 Offset(5,80) 
		SAWZ A 4 Offset(-5,70)
		SAWZ A 4 Offset(-20,60) 
		SAWZ A 4 Offset(-40,50)
		SAWZ A 8 Offset(-50,40)
		SAWZ AAA 2 Offset(-50,40) A_Refire 
		SAWZ A 2 Offset(5,50) A_Refire 
		SAWZ A 2 Offset(10,70) A_Refire 
		SAWZ A 2 Offset(15,90) A_Refire
		SAWZ A 2 Offset(20,110) A_Refire
		SAWZ A 2 Offset(25,130) A_Refire
		SAWZ A 4 Offset(30,150) A_Refire
		TNT1 A 0 Offset(-40,40)
		Goto Ready+20
		
	AltHold:
		TNT1 A 0
		Goto AltFire
	
    DoKick:
		TNT1 A 0 A_JumpIfInventory("NoSawBlade",1,"ReadyNoBlade")
		TNT1 A 0 A_JumpIfInventory("SawFuel",20,2)
		Goto ReadyNoGas
		TNT1 AAA 0
		TNT1 A 0 A_Takeinventory("Kicking",1)
		TNT1 A 0 A_Takeinventory("SawFuel",20)
		TNT1 A 0 A_GiveInventory("NoSawBlade",1)
		TNT1 A 0 BRIGHT A_FireCustomMissile("AlerterMidChance")
		SAWR Z 2 A_FireCustomMissile("boomerang", 0, 0, 0, 0, 0, 0)
	    SAWR Z 4
		Goto Ready+20
		
	Reload:
		TNT1 A 0 A_JumpIfInventory("NoSawBlade",1,"RecallBlade")
		TNT1 A 0 A_PlaySound("DSSAWZIP")
		TNT1 AAA 0
        SAWS BCDEF 1
		SAWS FFFED 4
		TNT1 A 0 A_Takeinventory("Reloading",1)
		TNT1 A 0 A_playsound("weapons/chainsaw/draw", 1)
		TNT1 A 0 A_GiveInventory("SawFuel",25)
		SAWS CBA 4
		TNT1 A 0 A_JumpIfInventory("SawFuel",100,"Ready")
		Goto Ready
		
	RecallBlade:
		TNT1 A 0 A_JumpIfInventory("SawFuel",5,2)
		Goto RecallBlade2
		TNT1 AAAA 0
		TNT1 A 0 ACS_Execute(4406, 0, 0, 0, 0)
		TNT1 A 0 A_TakeInventory("SawFuel",5)
	RecallBlade2:
		SAWR Z 2 Offset(0,35)
		TNT1 A 0 thing_remove (4000)
		SAWR Z 2 Offset(0,40)
		SAWR Z 2 Offset(0,50)
		SAWR Z 2 Offset(0,60)
		SAWR Z 2 Offset(0,70)
		SAWR Z 2 Offset(0,80)
		SAWR Z 2 Offset(0,90)
		SAWR Z 2 Offset(0,100)
		SAWR Z 2 Offset(0,110)
		SAWR Z 2 Offset(0,120)
		SAWR Z 2 Offset(0,130)
		TNT1 A 10 Offset(0,130)
		SAWG A 2 Offset(0,120)
		SAWG A 2 Offset(0,110)
		SAWG A 2 Offset(0,100)
		SAWG A 2 Offset(0,90)
		SAWG A 2 Offset(0,80)
		SAWG A 2 Offset(0,70)
		SAWG A 2 Offset(0,60)
		SAWG A 2 Offset(0,50)
		SAWG A 2 Offset(0,40)
		SAWG A 2 Offset(0,33)
		TNT1 A 0 A_Takeinventory("Reloading",1)
		TNT1 A 0 A_Takeinventory("NoSawBlade",1)
		SAWG A 2
		Goto Ready+20
		
    Taunt:
        TNT1 A 5
		FUCK A 2
        FUCK B 2 A_PlaySound("FUCK", 1)
        FUCK C 2 A_AlertMonsters
		FUCK D 15 A_Takeinventory("Taunting",1)
        FUCK CBA 5
        TNT1 A 5
		goto ready+35
	}
}

ACTOR SawMultiHit: KickAttack
{
damagetype Saw
Damage (0)
Speed 40
Radius 20
Height 15
renderstyle Translucent
scale 0.15
alpha 0.7
+BLOODSPLATTER
+NOEXTREMEDEATH
+FORCEPAIN
+NODAMAGETHRUST
States
{
	Spawn:
		TNT1 A 1 BRIGHT
		Stop
	Death: Crash:
		TNT1 A 0
		TNT1 A 0 A_Explode(20, 30, false, 0, 30)
		TNT1 AB 1 bright
		TNT1 A 0 A_Jump (128,3)
		TNT1 A 0 A_SpawnItem ("Sparks", 0)
		TNT1 AA 0 A_CustomMissile ("SparkX", 2, 0, random (0, 360), 2, random (30, 170))
		BPUF C 1 bright A_PlaySound("Chainsaw/Wall", 0, 1)
		BPUF D 1 bright
		Stop	
	XDeath:
	    TNT1 A 0
		TNT1 A 0 A_TakeFromTarget ("SawFuel", 2)
		TNT1 A 0 A_Explode(20, 30, false, 0, 30)
		TNT1 AB 1 bright
		TNT1 A 0 A_Jump (170,2)
		TNT1 A 0 A_GiveToTarget ("MagicAmmo", 1)
		TNT1 AA 0
		TNT1 A 0 A_Jump (128,3)
		TNT1 A 0 A_SpawnItem ("Sparks", 0)
		TNT1 A 0 A_CustomMissile ("SparkX", 2, 0, random (0, 360), 2, random (30, 170))
		BPUF C 1 bright A_PlaySound("Chainsaw/Hit", 0, 1)
		BPUF D 1 bright
		Stop	
}
}

ACTOR SawMultiHitHeal: SawMultiHit
{
States
{
	XDeath:
	    TNT1 A 0
		TNT1 A 0 A_TakeFromTarget ("SawFuel", 2)
		TNT1 A 0 A_Explode(20, 30, false, 0, 30)
		TNT1 AB 1 bright
		TNT1 A 0 A_GiveToTarget ("Health", 4)
		TNT1 A 0 A_CustomMissile ("GreenPLSHeal", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		TNT1 A 0 A_CustomMissile ("GreenPLSHeal2", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		TNT1 A 0 A_Jump (150,2)
		TNT1 A 0 A_GiveToTarget ("MagicAmmo", 1)
		TNT1 A 0 A_CustomMissile ("BlueManaPoint", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		TNT1 AA 0
		TNT1 A 0 A_Jump (128,3)
		TNT1 A 0 A_SpawnItem ("Sparks", 0)
		TNT1 AAAAAA 0 A_CustomMissile ("SparkX", 2, 0, random (0, 360), 2, random (30, 170))
		BPUF C 1 bright
		BPUF D 1 bright
		Stop	
}
}

ACTOR SawSlice: KickAttack
{
damagetype Tear
Damage (60)
Speed 80
Radius 5
renderstyle Translucent
scale 0.15
alpha 0.7
+BLOODSPLATTER
+NOEXTREMEDEATH
+FORCEPAIN
+NODAMAGETHRUST
States
{
	Spawn:
		TNT1 A 1 BRIGHT
		Stop
	Death: Crash:
		TNT1 A 0
		TNT1 AB 1 bright
		TNT1 A 0 A_Jump (128,3)
		TNT1 A 0 A_SpawnItem ("Sparks", 0)
		TNT1 AAAAAA 0 A_CustomMissile ("SparkX", 2, 0, random (0, 360), 2, random (30, 170))
		BPUF C 1 bright A_PlaySound("Chainsaw/Wall", 0, 1)
		BPUF D 1 bright
		Stop	
	XDeath:
	    TNT1 A 0
		TNT1 AB 1 bright
		TNT1 A 0 A_Jump (128,3)
		TNT1 A 0 A_SpawnItem ("Sparks", 0)
		TNT1 AAAAAA 0 A_CustomMissile ("SparkX", 2, 0, random (0, 360), 2, random (30, 170))
		BPUF C 1 bright A_PlaySound("Chainsaw/Hit", 0, 1)
		BPUF D 1 bright
		Stop	
}
}

ACTOR SawSliceMP: SawSlice
{
States
{	
	XDeath:
	    TNT1 A 0
		TNT1 AB 1 bright
		TNT1 A 0 A_GiveToTarget ("MagicAmmo", 1)
		TNT1 A 0 A_CustomMissile ("BlueManaPoint", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		TNT1 A 0 A_Jump (128,3)
		TNT1 A 0 A_SpawnItem ("Sparks", 0)
		TNT1 AAAAAA 0 A_CustomMissile ("SparkX", 2, 0, random (0, 360), 2, random (30, 170))
		BPUF C 1 bright A_PlaySound("Chainsaw/Hit", 0, 1)
		BPUF D 1 bright
		Stop	
}
}

ACTOR SawSliceHeal: SawSlice
{
States
{	
	XDeath:
	    TNT1 A 0
		TNT1 AB 1 bright
		TNT1 A 0 A_GiveToTarget ("MagicAmmo", 1)
		TNT1 A 0 A_CustomMissile ("BlueManaPoint", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		TNT1 A 0 A_GiveToTarget ("Health", 5)
		TNT1 A 0 A_CustomMissile ("GreenPLSHeal", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		TNT1 A 0 A_CustomMissile ("GreenPLSHeal2", 0, 0, random (0, 360), 2 | 4, random (-50, 50))
		TNT1 A 0 A_Jump (128,3)
		TNT1 A 0 A_SpawnItem ("Sparks", 0)
		TNT1 AAAAAA 0 A_CustomMissile ("SparkX", 2, 0, random (0, 360), 2, random (30, 170))
		BPUF C 1 bright A_PlaySound("Chainsaw/Hit", 0, 1)
		BPUF D 1 bright
		Stop	
}
}

actor boomerang
{
	+notimefreeze
	+skyexplode
	projectile
	+ripper
	+FORCEXYBILLBOARD	
	+NODAMAGETHRUST
	+hexenbounce
	bouncecount 30
	+CANBOUNCEWATER
	+THRUGHOST
	meleerange 12
	radius 18
	height 10
	damage (0)
	damageType Saw
	speed 30
	Scale 2
	Health 100
	seesound "subweapons/boomerangflystart"
	Translation "0:255=%[0,0.0,0]:[0.5,0.5,0.5]"
	species "Marines"
	+THRUSPECIES
	+DONTHURTSPECIES
	states
	{
	spawn:
		TNT1 A 0 NoDelay Thing_ChangeTID(0, 4000)
		TNT1 A 0 A_playsound("weapons/chainsaw/start")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright A_Explode (40, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR B 1 bright A_Explode (40, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR C 1 bright A_Explode (40, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR D 1 bright A_Explode (40, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR E 1 bright A_Explode (40, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright A_Explode (40, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR G 1 bright A_Explode (40, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR H 1 bright A_Explode (40, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		TNT1 A 0 a_playsound ("weapons/chainsaw/loop",0,1,1)
		TNT1 A 0 a_scalevelocity (0.50)
		BMSR A 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR B 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR C 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR D 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR E 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR G 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR H 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR B 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR C 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR D 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR E 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR G 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR H 1 bright A_Explode (30, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		TNT1 A 0 a_scalevelocity (0.50)
		BMSR A 1 bright A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR B 1 bright A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR C 1 bright A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR D 1 bright A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR E 1 bright A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR G 1 bright A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR H 1 bright A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		goto death	
	death:
		TNT1 A 0
		TNT1 A 0 a_stopsound ("weapons/chainsaw/loop")
		TNT1 A 0 a_custommissile ("boomerangreturn",0,0,0,0)
		stop	
	explode:
		TNT1 A 0
		TNT1 A 0 a_stopsound ("weapons/chainsaw/loop")
		TNT1 A 0 a_playsound ("FAREXPL") 
		TNT1 A 0 a_custommissile ("noclipreturn",0,0,0,0)
		EXPL AAAAAAA 0 A_CustomMissile ("ExplosionSmokeFast22", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile ("ExplosionParticleVeryFast", 0, 0, random (0, 360), 2, random (0, 360))
		RBXP A 0 Bright A_CustomMissile ("CutterExplosion", 0, 0, 0, 2 | 4, 0)
		stop
	}
}

actor boomerangreturn : boomerang
{
	-noblockmap
	+skyexplode
	bouncetype hexen
	bouncecount 2
	speed 20
	Scale 2
	Health 100
	Translation "0:255=%[0,0.0,0]:[0.5,0.5,0.5]"
	states
	{
	spawn:
		TNT1 A 0 
		TNT1 A 0 Thing_ChangeTID(0, 4000)
		TNT1 A 0 A_playsound("weapons/chainsaw/start")
	    TNT1 A 0 a_facetarget
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright a_facetarget
		TNT1 A 0 a_playsound ("weapons/chainsaw/loop",0,1,1)
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR B 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR B 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR C 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR C 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR D 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR D 1 bright a_facetarget
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR E 1 bright A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR E 1 bright A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR G 1 bright A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR G 1 bright A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR H 1 bright A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR H 1 bright A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		BMSR A 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR B 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR B 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR C 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR C 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR D 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR D 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR E 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR E 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR G 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR G 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR H 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR H 1 bright a_facetarget
		TNT1 A 0 A_JumpIfCloser(80,"catch")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 a_stop
		TNT1 A 0 a_custommissile ("boomerangreturn",0,0,0,0)
		stop
	catch:
		TNT1 A 0 a_takefromtarget ("NoSawBlade", 1)
		TNT1 A 0 a_stopsound ("weapons/chainsaw/loop")
		TNT1 A 0 a_playsound ("Chainsaw/Catch")
		TNT1 A 0 a_takefromtarget ("NoSawBlade", 1)
		stop
	death:
		TNT1 A 0
		TNT1 A 0 a_stopsound ("weapons/chainsaw/loop")
		TNT1 A 0 a_custommissile ("noclipreturn",0,0,0,0)
		stop
	explode:
		TNT1 A 0
		TNT1 A 0 a_stopsound ("weapons/chainsaw/loop")
		TNT1 A 0 a_playsound ("FAREXPL") 
		TNT1 A 0 a_custommissile ("noclipreturn",0,0,0,0)
		EXPL AAAAAAA 0 A_CustomMissile ("ExplosionSmokeFast22", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile ("ExplosionParticleVeryFast", 0, 0, random (0, 360), 2, random (0, 360))
		RBXP A 0 Bright A_CustomMissile ("CutterExplosion", 0, 0, 0, 2 | 4, 0)
		stop
	}
}

actor noclipreturn
{
	-noblockmap
	projectile
	+noclip
	+ripper
	speed 30
	Scale 2
	Health 100
	Translation "0:255=%[0,0.0,0]:[0.5,0.5,0.5]"
	species "Marines"
	+THRUSPECIES
	+DONTHURTSPECIES
	states
	{
	spawn:
		TNT1 A 0 NoDelay Thing_ChangeTID(0, 4000)
		TNT1 A 0 a_playsound ("weapons/chainsaw/loop",0,1,1)
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright a_facetarget
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright a_facetarget	
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright a_facetarget
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR B 1 bright a_facetarget
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR C 1 bright a_jumpifcloser (120,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR D 1 bright a_jumpifcloser (120,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR E 1 bright a_jumpifcloser (120,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright a_jumpifcloser (120,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright a_jumpifcloser (120,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR G 1 bright a_facetarget
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR H 1 bright a_facetarget
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		CKRM A 0 a_jumpifcloser (120,"chakramstop")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright a_facetarget	
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		CKRM A 0 a_jumpifcloser (120,"chakramstop")
		CKRM A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR B 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR C 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR D 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR E 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR G 1 bright a_facetarget
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR H 1 bright a_facetarget
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		CKRM A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright a_facetarget	
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		CKRM A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR B 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR C 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR D 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR E 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR G 1 bright a_facetarget
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR H 1 bright a_facetarget
		CKRM A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright a_facetarget		
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		CKRM A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR B 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR C 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR D 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR E 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR F 1 bright a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR G 1 bright a_facetarget
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR H 1 bright a_facetarget
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		TNT1 A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 A 0 A_SpawnItemEx("ChainSawTrail", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS)
		BMSR A 1 bright a_facetarget	
		TNT1 A 0 A_Explode (20, 20, false, 0, 20)
		CKRM A 0 a_jumpifcloser (100,"chakramstop")
		TNT1 AAAAAAAAAAAA 0 A_CustomMissile ("MagicStarHit", 1, 0, random (0, 360), 2, random (0, 360))
		goto death
	chakramstop:
		TNT1 A 0 a_playsound ("Chainsaw/Catch") 
		TNT1 A 0 a_takefromtarget ("NoSawBlade", 1)	
		TNT1 A 0 a_stopsound ("weapons/chainsaw/loop")		
		stop
	death:
		TNT1 A 0 a_custommissile ("noclipreturn",0,0,0,0)
		TNT1 A 0 a_stopsound ("weapons/chainsaw/loop")
		stop
	explode:
		TNT1 A 0 a_playsound ("FAREXPL") 
		EXPL AAAAAAA 0 A_CustomMissile ("ExplosionSmokeFast22", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 AAAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile ("ExplosionParticleVeryFast", 0, 0, random (0, 360), 2, random (0, 360))
		RBXP A 0 Bright A_CustomMissile ("CutterExplosion", 0, 0, 0, 2 | 4, 0)
		stop
	}
}

actor CutterExplosion
{
	projectile
	+ripper
	+THRUGHOST
	+BLOODLESSIMPACT
	speed 0
	Scale 1
	damage (0)
	Translation "0:255=%[0,0.0,0]:[0.5,0.5,0.5]"
	species "Marines"
	+THRUSPECIES
	+DONTHURTSPECIES
	states
	{
	spawn:
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		TNT1 A 0 A_Explode (44, 150, false, 0, 50)
		TNT1 A 10 A_CustomMissile ("CutterExplosionGen", 0, 0, 0, 2 | 4, 0)
		goto death
	death:
		TNT1 A 0
		stop
	}
}